<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>huracan.components API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>huracan.components</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from copy import deepcopy

from huracan.engine import component
from huracan.thermo.fluids import fuel


class intake(component):
    &#34;&#34;&#34;
    Intake

    Airflow fed directly to engine
    &#34;&#34;&#34;
    def tf(self, gas):
        return gas.absolute()


class inlet(intake):
    &#34;&#34;&#34;
    Inlet
    &#34;&#34;&#34;
    def __init__(self,
                 eta=None,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI
        self.TAU = TAU

        assert not isinstance(eta, type(None)) or not isinstance(PI, type(None)) or not isinstance(TAU, type(None))

    def tf(self, gas):
        return gas.diffusion(eta=self.eta, PI=self.PI, TAU=self.TAU)


class compressor(component):
    &#34;&#34;&#34;
    Compressor
    &#34;&#34;&#34;
    def __init__(self,
                 eta,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta

        self.PI  = PI
        self.TAU = TAU

    def tf(self, gas):
        return gas.compression(eta=self.eta, PI=self.PI, TAU=self.TAU)


class combustion_chamber(component):
    &#34;&#34;&#34;
    Combustion chamber
    &#34;&#34;&#34;
    def __init__(self,
                 fuel,
                 eta,
                 t01=None,
                 ):
        &#34;&#34;&#34;
        The total pressure and temperature
        after the combustion chamber are calculated
        based on:

        - The heat required by all downstream
          turbines (work which the turbines of the
          engine must subtract from the flow).
          -&gt; Heat addition so as to feed the known
             energy use.

        - The fuel mass flow (attribute of
          the input fuel class instance) if provided,
          if the heat added if equal or larger than
          that required by the turbines.
          -&gt; Heat addition from input fuel mass flow

        - The total temperature of the gas
          at the exit of the combustion chamber t01
          if provided, if the heat added if equal or
          larger than that required by the turbines.
          -&gt; Heat addition so as to reach t01

        :param fuel: Instance of fuel class.
        :param eta:  Isentropic efficiency.
        :param t01:  Temperature after the combustion chamber.

        :type fuel:  fuel
        :type t01:   float
        &#34;&#34;&#34;

        self.fuel = fuel
        self.eta  = eta
        self.t01  = t01

    def tf(self, gas):
        &#34;&#34;&#34;
        At the time of execution, the fuel mass flow is
        determined based on:

        - The heat required by the turbines (minimum mass flow)
        - The fuel mass flow if provided, if larger than the
          minimum mass flow
        - The total temperature of the gas at the exit of
          the combustion chamber t01 if provided, if the
          required mass flow for it is larger than the
          minimum mass flow
        &#34;&#34;&#34;

        mf_min = self.mf_qr(self.Q_min(downstream=self.stream.downstream))

        if not isinstance(self.t01, type(None)):
            mf_t01 = self.mf_dt(dt=self.t01 - gas.t0, gas=gas)
            self.fuel.mf = mf_t01 if mf_t01 &gt; mf_min else mf_min
        elif not isinstance(self.fuel.mf, type(None)):
            self.fuel.mf = self.fuel.mf if self.fuel.mf &gt; mf_min else self.fuel.mf
        else:
            self.fuel.mf = mf_min

        gas += self.fuel

        &#34;&#34;&#34;Obtain an approximated total temperature at which the combustion process takes place&#34;&#34;&#34;
        approx_process_t = deepcopy(gas).heat_addition(eta=self.eta,
                                                       cp=gas.cp(gas.t0),
                                                       fuel_mf=self.fuel.mf,
                                                       fuel_LHV=self.fuel.LHV).t01

        return gas.heat_addition(eta=self.eta,
                                 cp=gas.cp(approx_process_t),
                                 fuel_mf=self.fuel.mf,
                                 fuel_LHV=self.fuel.LHV)

    def mf_qr(self, qr):
        &#34;&#34;&#34;
        Fuel mass flow from heat addition required.
        &#34;&#34;&#34;
        return qr/(self.eta*self.fuel.LHV)

    def mf_dt(self, dt, gas):
        &#34;&#34;&#34;
        Fuel mass flow from a required change in total temperature.
        &#34;&#34;&#34;
        gas_cp = gas.cp(self.t01)       # Heat addition happens at high temperature
        return dt*gas.mf*gas_cp/(self.eta*self.fuel.LHV - dt*gas_cp)

    def Q_min(self, downstream):
        &#34;&#34;&#34;
        Obtain the heat required by all downstream turbines.

        Assumptions:
        - A single combustion chamber is used to power all
          downstream turbines, without secondary combustion
          chambers in any of the affluent streams.
          If this is the case, the combustion chambers will
          provide the heat required by each of their common
          turbines (and so twice the amount needed).
          For now, it is wise to ensure any secondary combustion
          chambers do not have shared turbines with the main one.

        :type downstream: list of stream

        :return: Heat required by all downstream turbines.
        &#34;&#34;&#34;
        Qr = []
        for stream in downstream:
            for c in stream.components:
                if isinstance(c, turbine):
                    Qr.append(c.w_r())
        return sum(Qr)

    def Q_dt(self, dt, gas):
        &#34;&#34;&#34;
        Heat required to raise the temperature of the gas
        flow to a certain total temperature.
        &#34;&#34;&#34;
        gas_cp = gas.cp(self.t01)       # Heat addition happens at high temperature
        return dt*gas.mf*gas_cp

    def Q_mf(self):
        &#34;&#34;&#34;
        Heat from the combustion of a fuel with a certain
        mass flow.
        &#34;&#34;&#34;
        return self.eta*self.fuel.mf*self.fuel.LHV


class turbine(component):
    &#34;&#34;&#34;
    Turbine
    &#34;&#34;&#34;
    def __init__(self,
                 eta,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI
        self.TAU = TAU

    def tf(self, gas):
        &#34;&#34;&#34;
        Before runtime, if no total pressure or temperature
        ratio has been provided, a minimum total temperature
        ratio is calculated.
        This temperature ratio is that required to power the
        work exerting components in the turbine&#39;s shaft.
        &#34;&#34;&#34;
        if isinstance(self.PI, type(None)) and isinstance(self.TAU, type(None)):
            t00 = self.stream.gas.t0
            t01 = self.stream.gas.t0 - self.shaft.w_r()/(self.stream.gas.mf*self.stream.gas.cp(t00))
            self.TAU = t01/t00

        return gas.expansion(eta=self.eta, PI=self.PI, TAU=self.TAU)

    def w_r(self):
        return self.shaft.w_r()


class nozzle(component):
    pass</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="huracan.components.combustion_chamber"><code class="flex name class">
<span>class <span class="ident">combustion_chamber</span></span>
<span>(</span><span>fuel, eta, t01=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Combustion chamber</p>
<p>The total pressure and temperature
after the combustion chamber are calculated
based on:</p>
<ul>
<li>
<p>The heat required by all downstream
turbines (work which the turbines of the
engine must subtract from the flow).
-&gt; Heat addition so as to feed the known
energy use.</p>
</li>
<li>
<p>The fuel mass flow (attribute of
the input fuel class instance) if provided,
if the heat added if equal or larger than
that required by the turbines.
-&gt; Heat addition from input fuel mass flow</p>
</li>
<li>
<p>The total temperature of the gas
at the exit of the combustion chamber t01
if provided, if the heat added if equal or
larger than that required by the turbines.
-&gt; Heat addition so as to reach t01</p>
</li>
</ul>
<p>:param fuel: Instance of fuel class.
:param eta:
Isentropic efficiency.
:param t01:
Temperature after the combustion chamber.</p>
<p>:type fuel:
fuel
:type t01:
float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class combustion_chamber(component):
    &#34;&#34;&#34;
    Combustion chamber
    &#34;&#34;&#34;
    def __init__(self,
                 fuel,
                 eta,
                 t01=None,
                 ):
        &#34;&#34;&#34;
        The total pressure and temperature
        after the combustion chamber are calculated
        based on:

        - The heat required by all downstream
          turbines (work which the turbines of the
          engine must subtract from the flow).
          -&gt; Heat addition so as to feed the known
             energy use.

        - The fuel mass flow (attribute of
          the input fuel class instance) if provided,
          if the heat added if equal or larger than
          that required by the turbines.
          -&gt; Heat addition from input fuel mass flow

        - The total temperature of the gas
          at the exit of the combustion chamber t01
          if provided, if the heat added if equal or
          larger than that required by the turbines.
          -&gt; Heat addition so as to reach t01

        :param fuel: Instance of fuel class.
        :param eta:  Isentropic efficiency.
        :param t01:  Temperature after the combustion chamber.

        :type fuel:  fuel
        :type t01:   float
        &#34;&#34;&#34;

        self.fuel = fuel
        self.eta  = eta
        self.t01  = t01

    def tf(self, gas):
        &#34;&#34;&#34;
        At the time of execution, the fuel mass flow is
        determined based on:

        - The heat required by the turbines (minimum mass flow)
        - The fuel mass flow if provided, if larger than the
          minimum mass flow
        - The total temperature of the gas at the exit of
          the combustion chamber t01 if provided, if the
          required mass flow for it is larger than the
          minimum mass flow
        &#34;&#34;&#34;

        mf_min = self.mf_qr(self.Q_min(downstream=self.stream.downstream))

        if not isinstance(self.t01, type(None)):
            mf_t01 = self.mf_dt(dt=self.t01 - gas.t0, gas=gas)
            self.fuel.mf = mf_t01 if mf_t01 &gt; mf_min else mf_min
        elif not isinstance(self.fuel.mf, type(None)):
            self.fuel.mf = self.fuel.mf if self.fuel.mf &gt; mf_min else self.fuel.mf
        else:
            self.fuel.mf = mf_min

        gas += self.fuel

        &#34;&#34;&#34;Obtain an approximated total temperature at which the combustion process takes place&#34;&#34;&#34;
        approx_process_t = deepcopy(gas).heat_addition(eta=self.eta,
                                                       cp=gas.cp(gas.t0),
                                                       fuel_mf=self.fuel.mf,
                                                       fuel_LHV=self.fuel.LHV).t01

        return gas.heat_addition(eta=self.eta,
                                 cp=gas.cp(approx_process_t),
                                 fuel_mf=self.fuel.mf,
                                 fuel_LHV=self.fuel.LHV)

    def mf_qr(self, qr):
        &#34;&#34;&#34;
        Fuel mass flow from heat addition required.
        &#34;&#34;&#34;
        return qr/(self.eta*self.fuel.LHV)

    def mf_dt(self, dt, gas):
        &#34;&#34;&#34;
        Fuel mass flow from a required change in total temperature.
        &#34;&#34;&#34;
        gas_cp = gas.cp(self.t01)       # Heat addition happens at high temperature
        return dt*gas.mf*gas_cp/(self.eta*self.fuel.LHV - dt*gas_cp)

    def Q_min(self, downstream):
        &#34;&#34;&#34;
        Obtain the heat required by all downstream turbines.

        Assumptions:
        - A single combustion chamber is used to power all
          downstream turbines, without secondary combustion
          chambers in any of the affluent streams.
          If this is the case, the combustion chambers will
          provide the heat required by each of their common
          turbines (and so twice the amount needed).
          For now, it is wise to ensure any secondary combustion
          chambers do not have shared turbines with the main one.

        :type downstream: list of stream

        :return: Heat required by all downstream turbines.
        &#34;&#34;&#34;
        Qr = []
        for stream in downstream:
            for c in stream.components:
                if isinstance(c, turbine):
                    Qr.append(c.w_r())
        return sum(Qr)

    def Q_dt(self, dt, gas):
        &#34;&#34;&#34;
        Heat required to raise the temperature of the gas
        flow to a certain total temperature.
        &#34;&#34;&#34;
        gas_cp = gas.cp(self.t01)       # Heat addition happens at high temperature
        return dt*gas.mf*gas_cp

    def Q_mf(self):
        &#34;&#34;&#34;
        Heat from the combustion of a fuel with a certain
        mass flow.
        &#34;&#34;&#34;
        return self.eta*self.fuel.mf*self.fuel.LHV</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.combustion_chamber.Q_dt"><code class="name flex">
<span>def <span class="ident">Q_dt</span></span>(<span>self, dt, gas)</span>
</code></dt>
<dd>
<div class="desc"><p>Heat required to raise the temperature of the gas
flow to a certain total temperature.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Q_dt(self, dt, gas):
    &#34;&#34;&#34;
    Heat required to raise the temperature of the gas
    flow to a certain total temperature.
    &#34;&#34;&#34;
    gas_cp = gas.cp(self.t01)       # Heat addition happens at high temperature
    return dt*gas.mf*gas_cp</code></pre>
</details>
</dd>
<dt id="huracan.components.combustion_chamber.Q_mf"><code class="name flex">
<span>def <span class="ident">Q_mf</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Heat from the combustion of a fuel with a certain
mass flow.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Q_mf(self):
    &#34;&#34;&#34;
    Heat from the combustion of a fuel with a certain
    mass flow.
    &#34;&#34;&#34;
    return self.eta*self.fuel.mf*self.fuel.LHV</code></pre>
</details>
</dd>
<dt id="huracan.components.combustion_chamber.Q_min"><code class="name flex">
<span>def <span class="ident">Q_min</span></span>(<span>self, downstream)</span>
</code></dt>
<dd>
<div class="desc"><p>Obtain the heat required by all downstream turbines.</p>
<p>Assumptions:
- A single combustion chamber is used to power all
downstream turbines, without secondary combustion
chambers in any of the affluent streams.
If this is the case, the combustion chambers will
provide the heat required by each of their common
turbines (and so twice the amount needed).
For now, it is wise to ensure any secondary combustion
chambers do not have shared turbines with the main one.</p>
<p>:type downstream: list of stream</p>
<p>:return: Heat required by all downstream turbines.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def Q_min(self, downstream):
    &#34;&#34;&#34;
    Obtain the heat required by all downstream turbines.

    Assumptions:
    - A single combustion chamber is used to power all
      downstream turbines, without secondary combustion
      chambers in any of the affluent streams.
      If this is the case, the combustion chambers will
      provide the heat required by each of their common
      turbines (and so twice the amount needed).
      For now, it is wise to ensure any secondary combustion
      chambers do not have shared turbines with the main one.

    :type downstream: list of stream

    :return: Heat required by all downstream turbines.
    &#34;&#34;&#34;
    Qr = []
    for stream in downstream:
        for c in stream.components:
            if isinstance(c, turbine):
                Qr.append(c.w_r())
    return sum(Qr)</code></pre>
</details>
</dd>
<dt id="huracan.components.combustion_chamber.mf_dt"><code class="name flex">
<span>def <span class="ident">mf_dt</span></span>(<span>self, dt, gas)</span>
</code></dt>
<dd>
<div class="desc"><p>Fuel mass flow from a required change in total temperature.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mf_dt(self, dt, gas):
    &#34;&#34;&#34;
    Fuel mass flow from a required change in total temperature.
    &#34;&#34;&#34;
    gas_cp = gas.cp(self.t01)       # Heat addition happens at high temperature
    return dt*gas.mf*gas_cp/(self.eta*self.fuel.LHV - dt*gas_cp)</code></pre>
</details>
</dd>
<dt id="huracan.components.combustion_chamber.mf_qr"><code class="name flex">
<span>def <span class="ident">mf_qr</span></span>(<span>self, qr)</span>
</code></dt>
<dd>
<div class="desc"><p>Fuel mass flow from heat addition required.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mf_qr(self, qr):
    &#34;&#34;&#34;
    Fuel mass flow from heat addition required.
    &#34;&#34;&#34;
    return qr/(self.eta*self.fuel.LHV)</code></pre>
</details>
</dd>
<dt id="huracan.components.combustion_chamber.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"><p>At the time of execution, the fuel mass flow is
determined based on:</p>
<ul>
<li>The heat required by the turbines (minimum mass flow)</li>
<li>The fuel mass flow if provided, if larger than the
minimum mass flow</li>
<li>The total temperature of the gas at the exit of
the combustion chamber t01 if provided, if the
required mass flow for it is larger than the
minimum mass flow</li>
</ul></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):
    &#34;&#34;&#34;
    At the time of execution, the fuel mass flow is
    determined based on:

    - The heat required by the turbines (minimum mass flow)
    - The fuel mass flow if provided, if larger than the
      minimum mass flow
    - The total temperature of the gas at the exit of
      the combustion chamber t01 if provided, if the
      required mass flow for it is larger than the
      minimum mass flow
    &#34;&#34;&#34;

    mf_min = self.mf_qr(self.Q_min(downstream=self.stream.downstream))

    if not isinstance(self.t01, type(None)):
        mf_t01 = self.mf_dt(dt=self.t01 - gas.t0, gas=gas)
        self.fuel.mf = mf_t01 if mf_t01 &gt; mf_min else mf_min
    elif not isinstance(self.fuel.mf, type(None)):
        self.fuel.mf = self.fuel.mf if self.fuel.mf &gt; mf_min else self.fuel.mf
    else:
        self.fuel.mf = mf_min

    gas += self.fuel

    &#34;&#34;&#34;Obtain an approximated total temperature at which the combustion process takes place&#34;&#34;&#34;
    approx_process_t = deepcopy(gas).heat_addition(eta=self.eta,
                                                   cp=gas.cp(gas.t0),
                                                   fuel_mf=self.fuel.mf,
                                                   fuel_LHV=self.fuel.LHV).t01

    return gas.heat_addition(eta=self.eta,
                             cp=gas.cp(approx_process_t),
                             fuel_mf=self.fuel.mf,
                             fuel_LHV=self.fuel.LHV)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="huracan.components.compressor"><code class="flex name class">
<span>class <span class="ident">compressor</span></span>
<span>(</span><span>eta, PI=None, TAU=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Compressor</p>
<p>:type eta: float
:type PI:
float
:type TAU: float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class compressor(component):
    &#34;&#34;&#34;
    Compressor
    &#34;&#34;&#34;
    def __init__(self,
                 eta,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta

        self.PI  = PI
        self.TAU = TAU

    def tf(self, gas):
        return gas.compression(eta=self.eta, PI=self.PI, TAU=self.TAU)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.compressor.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):
    return gas.compression(eta=self.eta, PI=self.PI, TAU=self.TAU)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="huracan.components.inlet"><code class="flex name class">
<span>class <span class="ident">inlet</span></span>
<span>(</span><span>eta=None, PI=None, TAU=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Inlet</p>
<p>:type eta: float
:type PI:
float
:type TAU: float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class inlet(intake):
    &#34;&#34;&#34;
    Inlet
    &#34;&#34;&#34;
    def __init__(self,
                 eta=None,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI
        self.TAU = TAU

        assert not isinstance(eta, type(None)) or not isinstance(PI, type(None)) or not isinstance(TAU, type(None))

    def tf(self, gas):
        return gas.diffusion(eta=self.eta, PI=self.PI, TAU=self.TAU)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.components.intake" href="#huracan.components.intake">intake</a></li>
<li><a title="huracan.engine.component" href="engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.inlet.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):
    return gas.diffusion(eta=self.eta, PI=self.PI, TAU=self.TAU)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="huracan.components.intake"><code class="flex name class">
<span>class <span class="ident">intake</span></span>
</code></dt>
<dd>
<div class="desc"><p>Intake</p>
<p>Airflow fed directly to engine</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class intake(component):
    &#34;&#34;&#34;
    Intake

    Airflow fed directly to engine
    &#34;&#34;&#34;
    def tf(self, gas):
        return gas.absolute()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="huracan.components.inlet" href="#huracan.components.inlet">inlet</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.intake.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):
    return gas.absolute()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="huracan.components.nozzle"><code class="flex name class">
<span>class <span class="ident">nozzle</span></span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class nozzle(component):
    pass</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="engine.html#huracan.engine.component">component</a></li>
</ul>
</dd>
<dt id="huracan.components.turbine"><code class="flex name class">
<span>class <span class="ident">turbine</span></span>
<span>(</span><span>eta, PI=None, TAU=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Turbine</p>
<p>:type eta: float
:type PI:
float
:type TAU: float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class turbine(component):
    &#34;&#34;&#34;
    Turbine
    &#34;&#34;&#34;
    def __init__(self,
                 eta,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI
        self.TAU = TAU

    def tf(self, gas):
        &#34;&#34;&#34;
        Before runtime, if no total pressure or temperature
        ratio has been provided, a minimum total temperature
        ratio is calculated.
        This temperature ratio is that required to power the
        work exerting components in the turbine&#39;s shaft.
        &#34;&#34;&#34;
        if isinstance(self.PI, type(None)) and isinstance(self.TAU, type(None)):
            t00 = self.stream.gas.t0
            t01 = self.stream.gas.t0 - self.shaft.w_r()/(self.stream.gas.mf*self.stream.gas.cp(t00))
            self.TAU = t01/t00

        return gas.expansion(eta=self.eta, PI=self.PI, TAU=self.TAU)

    def w_r(self):
        return self.shaft.w_r()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.turbine.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"><p>Before runtime, if no total pressure or temperature
ratio has been provided, a minimum total temperature
ratio is calculated.
This temperature ratio is that required to power the
work exerting components in the turbine's shaft.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):
    &#34;&#34;&#34;
    Before runtime, if no total pressure or temperature
    ratio has been provided, a minimum total temperature
    ratio is calculated.
    This temperature ratio is that required to power the
    work exerting components in the turbine&#39;s shaft.
    &#34;&#34;&#34;
    if isinstance(self.PI, type(None)) and isinstance(self.TAU, type(None)):
        t00 = self.stream.gas.t0
        t01 = self.stream.gas.t0 - self.shaft.w_r()/(self.stream.gas.mf*self.stream.gas.cp(t00))
        self.TAU = t01/t00

    return gas.expansion(eta=self.eta, PI=self.PI, TAU=self.TAU)</code></pre>
</details>
</dd>
<dt id="huracan.components.turbine.w_r"><code class="name flex">
<span>def <span class="ident">w_r</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def w_r(self):
    return self.shaft.w_r()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="huracan" href="index.html">huracan</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="huracan.components.combustion_chamber" href="#huracan.components.combustion_chamber">combustion_chamber</a></code></h4>
<ul class="two-column">
<li><code><a title="huracan.components.combustion_chamber.Q_dt" href="#huracan.components.combustion_chamber.Q_dt">Q_dt</a></code></li>
<li><code><a title="huracan.components.combustion_chamber.Q_mf" href="#huracan.components.combustion_chamber.Q_mf">Q_mf</a></code></li>
<li><code><a title="huracan.components.combustion_chamber.Q_min" href="#huracan.components.combustion_chamber.Q_min">Q_min</a></code></li>
<li><code><a title="huracan.components.combustion_chamber.mf_dt" href="#huracan.components.combustion_chamber.mf_dt">mf_dt</a></code></li>
<li><code><a title="huracan.components.combustion_chamber.mf_qr" href="#huracan.components.combustion_chamber.mf_qr">mf_qr</a></code></li>
<li><code><a title="huracan.components.combustion_chamber.tf" href="#huracan.components.combustion_chamber.tf">tf</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="huracan.components.compressor" href="#huracan.components.compressor">compressor</a></code></h4>
<ul class="">
<li><code><a title="huracan.components.compressor.tf" href="#huracan.components.compressor.tf">tf</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="huracan.components.inlet" href="#huracan.components.inlet">inlet</a></code></h4>
<ul class="">
<li><code><a title="huracan.components.inlet.tf" href="#huracan.components.inlet.tf">tf</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="huracan.components.intake" href="#huracan.components.intake">intake</a></code></h4>
<ul class="">
<li><code><a title="huracan.components.intake.tf" href="#huracan.components.intake.tf">tf</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="huracan.components.nozzle" href="#huracan.components.nozzle">nozzle</a></code></h4>
</li>
<li>
<h4><code><a title="huracan.components.turbine" href="#huracan.components.turbine">turbine</a></code></h4>
<ul class="">
<li><code><a title="huracan.components.turbine.tf" href="#huracan.components.turbine.tf">tf</a></code></li>
<li><code><a title="huracan.components.turbine.w_r" href="#huracan.components.turbine.w_r">w_r</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>