<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>huracan.components.channels API documentation</title>
<meta name="description" content="Engine channels" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>huracan.components.channels</code></h1>
</header>
<section id="section-intro">
<h2 id="engine-channels">Engine channels</h2>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># SPDX-FileCopyrightText: © 2024 Antonio López Rivera &lt;antonlopezr99@gmail.com&gt;
# SPDX-License-Identifier: vGPL-3.0-only

&#34;&#34;&#34;
Engine channels
---------------
&#34;&#34;&#34;

from huracan.engine import component


class intake(component):
    &#34;&#34;&#34;
    Intake
    ------

    Airflow fed directly to engine.
    &#34;&#34;&#34;
    def __init__(self,
                 eta=1,
                 PI=1,
                 TAU=1):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI
        self.TAU = TAU

    def tf(self, gas):
        return gas.diffusion(eta=self.eta, PI=self.PI, TAU=self.TAU)


class inlet(intake):
    &#34;&#34;&#34;
    Inlet
    -----

    Adiabatic diffusion.
    &#34;&#34;&#34;
    def __init__(self,
                 eta=None,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        super().__init__(eta=eta,
                         PI=PI,
                         TAU=TAU)

        assert not isinstance(eta, type(None)) or not isinstance(PI, type(None)) or not isinstance(TAU, type(None))


class bleed_duct(component):
    &#34;&#34;&#34;
    Bleed duct
    ----------
    &#34;&#34;&#34;
    def __init__(self,
                 t01,
                 eta,
                 PI=1,
                 ):
        &#34;&#34;&#34;
        :param t01:  Temperature after the bleed duct.
        :param eta:  Isentropic efficiency.
        :param PI:   Pressure ratio.
        &#34;&#34;&#34;

        self.t01 = t01
        self.eta = eta
        self.PI  = PI

    def tf(self, gas):

        dt = self.t01 - gas.t0

        self.Q_out = dt*gas.mf*gas.cp(gas.t0) / self.eta

        return gas.heat_exchange(eta=self.eta,
                                 PI=self.PI,
                                 cp=gas.cp(gas.t0),
                                 Q_ex=self.Q_out,
                                 )
    

class nozzle(component):
    &#34;&#34;&#34;
    Nozzle
    ------

    Adiabatic expansion.
    &#34;&#34;&#34;
    def __init__(self,
                 eta,
                 PI=None
                 ):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI

        self.choked = False

    def tf(self, gas):
        return gas.expansion(eta=self.eta, PI=self.pi(gas), TAU=None)

    def pi(self, gas):
        &#34;&#34;&#34;
        Nozzle pressure ratio.

        If the nozzle pressure ratio is not provided, it is set as
        the ratio between the gas total pressure before the nozzle
        and the ambient pressure.
        If the inverse of the nozzle pressure ratio is larger than
        the critical inverse pressure ratio, the flow is choked and
        the nozzle pressure ratio will not exceed the critical pressure
        ratio.
        &#34;&#34;&#34;
        inv_PI = gas.p0/gas.p_0 if isinstance(self.PI, type(None)) else 1/self.PI

        if inv_PI &gt; self.inv_pi_crit(gas):
            PI = 1/self.inv_pi_crit(gas)
            self.choked = True
        else:
            PI = 1/inv_PI

        return PI

    def inv_pi_crit(self, gas):
        &#34;&#34;&#34;
        Inverse critical pressure ratio.

        Ratio of the pressure **before** the inlet over that
        **after** the inlet (inversely to the widely used pressure
        ratio), starting from which supersonic flow happens in the
        expansion process, causing the nozzle to become choked.

        With a choked nozzle the expansion of the gas is incomplete,
        with a maximum total pressure ratio in the nozzle equal to

            1/PI_crit

        &#34;&#34;&#34;
        k = gas.k(gas.t0)
        return 1/(1-1/self.eta*((k-1)/(k+1)))**(k/(k-1))</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="huracan.components.channels.bleed_duct"><code class="flex name class">
<span>class <span class="ident">bleed_duct</span></span>
<span>(</span><span>t01, eta, PI=1)</span>
</code></dt>
<dd>
<div class="desc"><h2 id="bleed-duct">Bleed Duct</h2>
<p>:param t01:
Temperature after the bleed duct.
:param eta:
Isentropic efficiency.
:param PI:
Pressure ratio.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class bleed_duct(component):
    &#34;&#34;&#34;
    Bleed duct
    ----------
    &#34;&#34;&#34;
    def __init__(self,
                 t01,
                 eta,
                 PI=1,
                 ):
        &#34;&#34;&#34;
        :param t01:  Temperature after the bleed duct.
        :param eta:  Isentropic efficiency.
        :param PI:   Pressure ratio.
        &#34;&#34;&#34;

        self.t01 = t01
        self.eta = eta
        self.PI  = PI

    def tf(self, gas):

        dt = self.t01 - gas.t0

        self.Q_out = dt*gas.mf*gas.cp(gas.t0) / self.eta

        return gas.heat_exchange(eta=self.eta,
                                 PI=self.PI,
                                 cp=gas.cp(gas.t0),
                                 Q_ex=self.Q_out,
                                 )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="../engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.channels.bleed_duct.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):

    dt = self.t01 - gas.t0

    self.Q_out = dt*gas.mf*gas.cp(gas.t0) / self.eta

    return gas.heat_exchange(eta=self.eta,
                             PI=self.PI,
                             cp=gas.cp(gas.t0),
                             Q_ex=self.Q_out,
                             )</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="huracan.components.channels.inlet"><code class="flex name class">
<span>class <span class="ident">inlet</span></span>
<span>(</span><span>eta=None, PI=None, TAU=None)</span>
</code></dt>
<dd>
<div class="desc"><h2 id="inlet">Inlet</h2>
<p>Adiabatic diffusion.</p>
<p>:type eta: float
:type PI:
float
:type TAU: float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class inlet(intake):
    &#34;&#34;&#34;
    Inlet
    -----

    Adiabatic diffusion.
    &#34;&#34;&#34;
    def __init__(self,
                 eta=None,
                 PI=None,
                 TAU=None):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        super().__init__(eta=eta,
                         PI=PI,
                         TAU=TAU)

        assert not isinstance(eta, type(None)) or not isinstance(PI, type(None)) or not isinstance(TAU, type(None))</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.components.channels.intake" href="#huracan.components.channels.intake">intake</a></li>
<li><a title="huracan.engine.component" href="../engine.html#huracan.engine.component">component</a></li>
</ul>
</dd>
<dt id="huracan.components.channels.intake"><code class="flex name class">
<span>class <span class="ident">intake</span></span>
<span>(</span><span>eta=1, PI=1, TAU=1)</span>
</code></dt>
<dd>
<div class="desc"><h2 id="intake">Intake</h2>
<p>Airflow fed directly to engine.</p>
<p>:type eta: float
:type PI:
float
:type TAU: float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class intake(component):
    &#34;&#34;&#34;
    Intake
    ------

    Airflow fed directly to engine.
    &#34;&#34;&#34;
    def __init__(self,
                 eta=1,
                 PI=1,
                 TAU=1):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        :type TAU: float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI
        self.TAU = TAU

    def tf(self, gas):
        return gas.diffusion(eta=self.eta, PI=self.PI, TAU=self.TAU)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="../engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="huracan.components.channels.inlet" href="#huracan.components.channels.inlet">inlet</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.channels.intake.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):
    return gas.diffusion(eta=self.eta, PI=self.PI, TAU=self.TAU)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="huracan.components.channels.nozzle"><code class="flex name class">
<span>class <span class="ident">nozzle</span></span>
<span>(</span><span>eta, PI=None)</span>
</code></dt>
<dd>
<div class="desc"><h2 id="nozzle">Nozzle</h2>
<p>Adiabatic expansion.</p>
<p>:type eta: float
:type PI:
float</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class nozzle(component):
    &#34;&#34;&#34;
    Nozzle
    ------

    Adiabatic expansion.
    &#34;&#34;&#34;
    def __init__(self,
                 eta,
                 PI=None
                 ):
        &#34;&#34;&#34;
        :type eta: float
        :type PI:  float
        &#34;&#34;&#34;
        self.eta = eta
        self.PI  = PI

        self.choked = False

    def tf(self, gas):
        return gas.expansion(eta=self.eta, PI=self.pi(gas), TAU=None)

    def pi(self, gas):
        &#34;&#34;&#34;
        Nozzle pressure ratio.

        If the nozzle pressure ratio is not provided, it is set as
        the ratio between the gas total pressure before the nozzle
        and the ambient pressure.
        If the inverse of the nozzle pressure ratio is larger than
        the critical inverse pressure ratio, the flow is choked and
        the nozzle pressure ratio will not exceed the critical pressure
        ratio.
        &#34;&#34;&#34;
        inv_PI = gas.p0/gas.p_0 if isinstance(self.PI, type(None)) else 1/self.PI

        if inv_PI &gt; self.inv_pi_crit(gas):
            PI = 1/self.inv_pi_crit(gas)
            self.choked = True
        else:
            PI = 1/inv_PI

        return PI

    def inv_pi_crit(self, gas):
        &#34;&#34;&#34;
        Inverse critical pressure ratio.

        Ratio of the pressure **before** the inlet over that
        **after** the inlet (inversely to the widely used pressure
        ratio), starting from which supersonic flow happens in the
        expansion process, causing the nozzle to become choked.

        With a choked nozzle the expansion of the gas is incomplete,
        with a maximum total pressure ratio in the nozzle equal to

            1/PI_crit

        &#34;&#34;&#34;
        k = gas.k(gas.t0)
        return 1/(1-1/self.eta*((k-1)/(k+1)))**(k/(k-1))</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="huracan.engine.component" href="../engine.html#huracan.engine.component">component</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="huracan.components.channels.nozzle.inv_pi_crit"><code class="name flex">
<span>def <span class="ident">inv_pi_crit</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"><p>Inverse critical pressure ratio.</p>
<p>Ratio of the pressure <strong>before</strong> the inlet over that
<strong>after</strong> the inlet (inversely to the widely used pressure
ratio), starting from which supersonic flow happens in the
expansion process, causing the nozzle to become choked.</p>
<p>With a choked nozzle the expansion of the gas is incomplete,
with a maximum total pressure ratio in the nozzle equal to</p>
<pre><code>1/PI_crit
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def inv_pi_crit(self, gas):
    &#34;&#34;&#34;
    Inverse critical pressure ratio.

    Ratio of the pressure **before** the inlet over that
    **after** the inlet (inversely to the widely used pressure
    ratio), starting from which supersonic flow happens in the
    expansion process, causing the nozzle to become choked.

    With a choked nozzle the expansion of the gas is incomplete,
    with a maximum total pressure ratio in the nozzle equal to

        1/PI_crit

    &#34;&#34;&#34;
    k = gas.k(gas.t0)
    return 1/(1-1/self.eta*((k-1)/(k+1)))**(k/(k-1))</code></pre>
</details>
</dd>
<dt id="huracan.components.channels.nozzle.pi"><code class="name flex">
<span>def <span class="ident">pi</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"><p>Nozzle pressure ratio.</p>
<p>If the nozzle pressure ratio is not provided, it is set as
the ratio between the gas total pressure before the nozzle
and the ambient pressure.
If the inverse of the nozzle pressure ratio is larger than
the critical inverse pressure ratio, the flow is choked and
the nozzle pressure ratio will not exceed the critical pressure
ratio.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pi(self, gas):
    &#34;&#34;&#34;
    Nozzle pressure ratio.

    If the nozzle pressure ratio is not provided, it is set as
    the ratio between the gas total pressure before the nozzle
    and the ambient pressure.
    If the inverse of the nozzle pressure ratio is larger than
    the critical inverse pressure ratio, the flow is choked and
    the nozzle pressure ratio will not exceed the critical pressure
    ratio.
    &#34;&#34;&#34;
    inv_PI = gas.p0/gas.p_0 if isinstance(self.PI, type(None)) else 1/self.PI

    if inv_PI &gt; self.inv_pi_crit(gas):
        PI = 1/self.inv_pi_crit(gas)
        self.choked = True
    else:
        PI = 1/inv_PI

    return PI</code></pre>
</details>
</dd>
<dt id="huracan.components.channels.nozzle.tf"><code class="name flex">
<span>def <span class="ident">tf</span></span>(<span>self, gas)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tf(self, gas):
    return gas.expansion(eta=self.eta, PI=self.pi(gas), TAU=None)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#engine-channels">Engine channels</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="huracan.components" href="index.html">huracan.components</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="huracan.components.channels.bleed_duct" href="#huracan.components.channels.bleed_duct">bleed_duct</a></code></h4>
<ul class="">
<li><code><a title="huracan.components.channels.bleed_duct.tf" href="#huracan.components.channels.bleed_duct.tf">tf</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="huracan.components.channels.inlet" href="#huracan.components.channels.inlet">inlet</a></code></h4>
</li>
<li>
<h4><code><a title="huracan.components.channels.intake" href="#huracan.components.channels.intake">intake</a></code></h4>
<ul class="">
<li><code><a title="huracan.components.channels.intake.tf" href="#huracan.components.channels.intake.tf">tf</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="huracan.components.channels.nozzle" href="#huracan.components.channels.nozzle">nozzle</a></code></h4>
<ul class="">
<li><code><a title="huracan.components.channels.nozzle.inv_pi_crit" href="#huracan.components.channels.nozzle.inv_pi_crit">inv_pi_crit</a></code></li>
<li><code><a title="huracan.components.channels.nozzle.pi" href="#huracan.components.channels.nozzle.pi">pi</a></code></li>
<li><code><a title="huracan.components.channels.nozzle.tf" href="#huracan.components.channels.nozzle.tf">tf</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>